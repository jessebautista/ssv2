---
import MainLayout from '../layouts/MainLayout.astro';
import { getUser } from '../lib/supabase';

const user = await getUser();
---

<MainLayout title="Welcome to Swell Surge">
  <h1>Welcome to Swell Surge</h1>
  <!-- Your existing content here -->

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get('openSettings') === 'true') {
        document.dispatchEvent(new CustomEvent('openSettingsModal'));
        // Remove the query parameter from the URL
        window.history.replaceState({}, document.title, window.location.pathname);
      }
    });
  </script>
</MainLayout>
