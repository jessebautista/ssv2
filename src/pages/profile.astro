---
import MainLayout from '../layouts/MainLayout.astro';
import { getUser } from '../lib/supabase';

const user = await getUser();
if (!user) {
  return Astro.redirect('/login');
}

// Redirect to the main page with a query parameter to open the settings modal
return Astro.redirect('/?openSettings=true');
---
